<!-- Wish item container -->
<div class="card shadow mt-1">
  <div class="card-image-overlay">
    <img class="card-img-top img-fluid rounded w-100 mb-2" ng-src="{{wish.image}}" alt="Afbeelding van de wens niet beschikbaar">
    <div class="card-img-overlay p-1" ng-class="{blurredCardOverlay: wishCtrl.reservationStatus(wish) === 'reserved'}">
      <span class="float-left w-50 badge badge-pill badge-warning text-center" 
            ng-if="wishCtrl.reservationStatus(wish) === 'reserved'" ng-show="!wishCtrl.reservedByUser(wish.reservation.reservedBy)">
            Gereserveerd</span>
      <span class="float-left w-75 badge badge-pill badge-info text-center" 
            ng-if="wishCtrl.reservationStatus(wish) === 'reserved'" ng-show="wishCtrl.reservedByUser(wish.reservation.reservedBy)">
            Mijn reservatie <i class="fa fa-ban ml-2 text-warning" aria-hidden="true" uib-tooltip="Annuleer je reservatie" tooltip-placement="bottom-right" tooltip-class="customTooltip" ng-click="wishCtrl.deleteReservation(wish)"></i></span>
    </div>
  </div>
  <div class="card-block p-1">
    <a class="badge badge-light wishCardTitle text-capitalize" ui-sref="gimmi.wishlist.wish({wishID: wish._id})">{{wish.title}}</a>
    <p class="card-subtitle text-muted text-truncate ml-1 mt-1" ng-hide="wishCtrl.receiverIsCreator(wish.createdBy._id, wishlistCtrl.currentReceiver._id)">Idee van {{wish.createdBy.firstName + " " + wish.createdBy.lastName.substring(0,1) + "."}}</p>
    <p class="card-text mx-auto my-1 text-left font-weight-bold">{{wish.price | currency : "€" : 2}}</p>
  </div>
  <div class="card-footer text-muted p-1">
    <button class="btn btn-light mx-1 p-1 text-muted" ui-sref="gimmi.wishlist.wish({wishID: wish._id})"><i class="fa fa-info" aria-hidden="true" uib-tooltip="Bekijk de details" tooltip-class="customTooltip" tooltip-placement="top-left"></i></button>
    <a class="btn btn-light mx-1 p-1 text-muted" href="{{wish.url}}" target="_blank" ng-show="wish.url"><i class="fa fa-globe" aria-hidden="true" uib-tooltip="Ga naar website voor meer info" tooltip-class="customTooltip" tooltip-placement="top-left"></i></a>
    <button class="btn btn-light mx-1 p-1 text-muted" uib-tooltip="Reserveer" tooltip-class="customTooltip" tooltip-placement="top-left" href="" ng-show="wishCtrl.reservationStatus(wish) === 'unreserved'" ng-click="wishCtrl.addReservation(wish, ApplicationCtrl.currentUser._id, 'No reason')"><i class="fa fa-cart-plus" aria-hidden="true"></i></button>
    <button class="btn btn-light mx-1 p-1 text-muted" uib-tooltip="Kopieer naar je eigen lijst" tooltip-class="customTooltip" tooltip-placement="top-left" href="" ng-hide="wishlistCtrl.userIsReceiver" ng-click="wishCtrl.copy(wish)"><i class="fa fa-clone" aria-hidden="true"></i></button>
    <button class="btn btn-light mx-1 p-1 text-muted" uib-tooltip="Wijzig" tooltip-class="customTooltip" tooltip-placement="top-right" href="" ng-show="wishlistCtrl.userIsReceiver || wishCtrl.userIsCreator(wish.createdBy._id)" ng-click="wishCtrl.edit(wish)"><i class="fa fa-edit" aria-hidden="true"></i></button>
    <button class="btn btn-light mx-1 p-1 text-muted" uib-tooltip="Verwijder" tooltip-class="customTooltip" tooltip-placement="top-right" href="" ng-show="wishlistCtrl.userIsReceiver || wishCtrl.userIsCreator(wish.createdBy._id)" ng-click="wishCtrl.deleteWish(wish)"><i class="fa fa-trash" aria-hidden="true"></i></button>
  </div>
</div>

<!-- Template for edit wish popup -->
<script type="text/ng-template" id="editWish.html">
  <div class="modal-header">
    <h3 class="modal-title">Wijzig {{::editPopupCtrl.wish.title}}</h3>
    <button type="button" class="close" data-dismiss="modal" aria-label="Close" ng-click="editPopupCtrl.cancel()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <form name="wishEditForm" class="p-2" role="form">
      <div class="form-group">
        <img class="img-fluid" ng-src="{{editPopupCtrl.wish.image}}" google-image-search="{{editPopupCtrl.wish.title}}" data-image-result="editPopupCtrl.wish.image"/>
      </div>
      <div class="form-group">
        <input type="text" class="form-control" id="WishTitle" ng-model="editPopupCtrl.wish.title" placeholder="Titel" required/>
      </div>
      <div class="form-group">
        <input type="number" class="form-control" name="inputPrice" id="WishPrice" placeholder="Prijs in € (enkel getal ingeven)" ng-model="editPopupCtrl.wish.price" />
        <span ng-show="wishEditForm.inputPrice.$error.number">Enkel getallen toegelaten!</span>
      </div>
    </form>
  </div>
  <div class="modal-footer">
    <button class="btn btn-danger" type="button" ng-click="editPopupCtrl.ok()">Opslaan</button>
    <button class="btn btn-danger" type="button" ng-click="editPopupCtrl.cancel()">Annuleer</button>
  </div>
</script>

<!-- Template for delete wish popup -->
<script type="text/ng-template" id="deleteVerification.html">

  <div class="modal-header" style="color:#000000">
    <h3 class="modal-title" id="modal-title">
      Bevestiging voor verwijderen
    </h3>
  </div>

  <div class="modal-body" id="modal-body" style="color:#000000">
    Ben je zeker dat je <b>"{{deletePopupCtrl.wishTitle}}"</b> wilt verwijderen?
  </div>

  <div class="modal-footer">
    <button class="btn btn-danger" type="button" ng-click="deletePopupCtrl.ok()">Ja</button>
    <button class="btn btn-danger" type="button" ng-click="deletePopupCtrl.cancel()">Nee</button>
  </div>

</script>

<!-- Template for wish reservation popup -->
<script type="text/ng-template" id="wishReservation.html">
  <div class="modal-header" style="color:#000000">
    <h3 class="modal-title" id="modal-title">
      Reserveer {{wishReservationPopupCtrl.wishTitle}}
    </h3>
  </div>

  <div class="modal-body" id="modal-body" style="color:#000000">
    <form name="wishReservationForm" class="create-form" role="form" novalidate>
      <div class="form-group">
        <select class="form-control" id="reservationReason" ng-model="wishReservationPopupCtrl.reservation.reason" required>
                <option selected disabled hidden>"Voor welke gelegenheid wil je deze cadeau geven?"</option>
                <option value="Verjaardag">Verjaardag</option>
                <option value="Housewarming">Housewarming</option>
                <option value="Geboorte">Geboorte</option>
                <option value="Huwelijk">Huwelijk</option>
                <option value="Afscheid collega">Afscheid collega</option>
                <option value="Afscheid">Afscheid</option>
                <option value="Vrijgezellenfeest">Vrijgezellenfeest</option>
                <option value="Vakantie">Vakantie</option>
                <option value="Communie / Lentefeest">Communie / Lentefeest</option>
                <option value="Vaderdag">Vaderdag</option>
                <option value="Moederdag">Moederdag</option>
                <option value="Sinterklaas">Sinterklaas</option>
                <option value="Kerstmis">Kerstmis</option>
                <option value="Nieuwjaar">Nieuwjaar</option>
                <option value="Zomaar...">Zomaar...</option>
            </select>
      </div>
  </div>
  </form>

  <div class="modal-footer">
    <button class="btn btn-danger" type="button" ng-click="wishReservationPopupCtrl.ok()">Reserveer</button>
    <button class="btn btn-danger" type="button" ng-click="wishReservationPopupCtrl.cancel()">Annuleer</button>
  </div>

</script>