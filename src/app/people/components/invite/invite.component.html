<div class="container">
    <div class="alert alert-primary" role="alert">
        We vonden nog geen lijst voor de persoon die je zocht. Vraag deze persoon om een lijst aan te maken via onderstaande
        mogelijkheden.
    </div>
    <form [formGroup]='invitationForm' (ngSubmit)="invitePerson()">
        <div formGroupName="invitationData">
            <div class="form-group">
                <fa-icon [icon]="mailIcon" class="mr-2"></fa-icon><label for="exampleInputEmail1">Verstuur een uitnodiging naar de
                    persoon die je zocht</label>
                <input 
                    type="email"
                    class="form-control"
                    placeholder="Emailadres (verplicht in te vullen)"
                    formControlName="emailaddress">
                <small id="emailHelp" class="form-text text-muted">Het emailadres wordt enkel gebruikt om de persoon uit te
                    nodigen.</small>
                <div id="emailError" class="form-text text-danger" 
                    *ngIf="!invitationForm.get('invitationData.emailaddress').valid && invitationForm.get('invitationData.emailaddress').touched">
                    <small *ngIf="invitationForm.get('invitationData.emailaddress').errors?.required">
                        Email is een verplicht veld</small>
                    <small *ngIf="invitationForm.get('invitationData.emailaddress').errors?.email">
                        Geef een geldig emailadres in (formaat: *** @ *** . **)</small>
                    <small *ngIf="invitationForm.get('invitationData.emailaddress').errors?.emailExists">
                        Er is al een wishlist gekoppeld aan dit emailadres: 
                        <a [routerLink]="['/people', knownPerson.id]">Bekijk de wensen van {{knownPerson.fullName}}</a></small>
                </div>
            </div>
            <div class="form-group">
                <div class="form-check">
                    <input
                        type="checkbox"
                        class="form-check-input"
                        formControlName="notifyOnRegistration">
                    <label class="form-check-label" for="notifyOnRegistration">Hou mij op de hoogte als deze persoon zich registreert.</label>
                </div>
            </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="!invitationForm.valid || !invitationForm.get('invitationData.emailaddress').touched">Submit</button>
    </form>
</div>
